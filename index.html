<!doctype html>
<html>
<head>
<meta charset="utf-8" />
<title>Recycling Manager Leaderboard</title>
<style>
body { font-family: Arial; background:#000; color:#e0d1d1; padding:20px; }
h1 { text-align:center; }
.controls { text-align:center; margin-bottom:12px; }
button { padding:10px 15px; background:#0d0249; color:#fff; border:none; border-radius:5px; cursor:pointer; }
.card { background:#dbd4d4; color:#000; padding:15px; margin:10px auto; width:320px; border-radius:8px; }
#list { display:flex; flex-direction:column; align-items:center; }
</style>
</head>
<body>
<h1>üè≠ Top 10 Recycling Manager Candidates</h1>

<div class="controls">
<button onclick="runEvaluation()">Run AI Evaluation</button>
<button onclick="loadLeaderboard()">Show Leaderboard</button>
</div>

<div id="list"></div>

<script>
const API_BASE = "http://127.0.0.1:5000";

async function runEvaluation() {
  await fetch(`${API_BASE}/evaluate`);
  loadLeaderboard();
}

async function loadLeaderboard() {
  const res = await fetch(`${API_BASE}/leaderboard`);
  const data = await res.json();
  const list = document.getElementById("list");
  list.innerHTML = "";
  data.forEach((c,i)=>{
    list.innerHTML += `<div class="card"><h3>#${i+1} ${c.name}</h3><p><b>Total Score:</b> ${c.total_score}</p></div>`;
  });
}
</script>
</body>
</html>
