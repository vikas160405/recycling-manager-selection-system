<!DOCTYPE html>
<html>
<head>
  <title>Recycling Manager Leaderboard</title>
  <style>
    body { font-family: Arial; background:#000; color:white; padding:20px; }
    h1 { text-align:center; }
    button { padding:10px; margin:10px; }
    .card {
      background:white;
      color:black;
      padding:15px;
      margin:10px auto;
      width:300px;
      border-radius:8px;
    }
  </style>
</head>
<body>

<h1>ğŸ­ Top 10 Recycling Manager Candidates</h1>
<center>
  <button onclick="runEvaluation()">Run AI Evaluation</button>
  <button onclick="loadLeaderboard()">Show Leaderboard</button>
</center>

<div id="list"></div>

<script>
function runEvaluation() {
  fetch('http://127.0.0.1:5000/evaluate')
    .then(res => res.text())
    .then(msg => {
      alert("AI Evaluation Completed âœ…");
      loadLeaderboard();
    })
    .catch(err => alert("Server error"));
}

function loadLeaderboard() {
  fetch('http://127.0.0.1:5000/leaderboard')
    .then(res => res.json())
    .then(data => {
      const list = document.getElementById('list');
      list.innerHTML = '';
      data.forEach((c, index) => {
        let medal = ["ğŸ¥‡","ğŸ¥ˆ","ğŸ¥‰"][index] || "";
        list.innerHTML += `
          <div class="card">
            <h3>${medal} #${index+1} ${c.name}</h3>
            <p>Total Score: ${c.total_score}</p>
          </div>
        `;
      });
    });
}
</script>

</body>
</html>
